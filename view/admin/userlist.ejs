<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>后台管理系统 1.3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->



    <link rel="stylesheet" href="view/admin/assets/css/style.css">
    <link rel="stylesheet" href="view/admin/assets/css/loader-style.css">
    <link rel="stylesheet" href="view/admin/assets/css/bootstrap.css">

    <link rel="stylesheet" type="text/css" href="view/admin/assets/js/progress-bar/number-pb.css">
    
    <link rel="stylesheet" href="view/admin/js/bootstrap_file_input/fileinput.css">

    <style type="text/css">
    canvas#canvas4 {
        position: relative;
        top: 20px;
    }
    </style>




    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="view/admin/assets/ico/minus.png">
</head>

<body> 
    <!-- Preloader -->
    <div id="preloader">
        <div id="status">&nbsp;</div>
    </div>
    <!-- TOP NAVBAR -->
    <% include common/header %>

    <!-- /END OF TOP NAVBAR -->
    
    <!-- SIDE MENU -->
    <% include common/left %>
    <!-- END OF SIDE MENU -->


    <!--  PAPER WRAP -->
    <div class="wrap-fluid">
        <div class="container-fluid paper-wrap bevel tlbr">





            <!-- CONTENT -->
            <!--TITLE -->
            <div class="row">
                <div id="paper-top">
                    <div class="col-lg-3">
                        <h2 class="tittle-content-header">
                            <i class="icon-window"></i> 
                            <span>Logo
                            </span>
                        </h2>

                    </div>

                    <div class="col-lg-7">
                        <div class="devider-vertical visible-lg"></div>
                        <div class="tittle-middle-header">

                            <div class="alert">
                                <button type="button" class="close" data-dismiss="alert">×</button>
                                <span class="tittle-alert entypo-info-circled"></span>
                                Welcome back,&nbsp;
                                <strong>Dave mattew!</strong>&nbsp;&nbsp;Your last sig in at Yesterday, 16:54 PM
                            </div>


                        </div>

                    </div>
                    <div class="col-lg-2">
                        <div class="devider-vertical visible-lg"></div>
                        <div class="btn-group btn-wigdet pull-right visible-lg">
                            <div class="btn">
                                Widget</div>
                            <button data-toggle="dropdown" class="btn dropdown-toggle" type="button">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul role="menu" class="dropdown-menu">
                                <li>
                                    <a href="#">
                                        <span class="entypo-plus-circled margin-iconic"></span>Add New</a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="entypo-heart margin-iconic"></span>Favorite</a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span class="entypo-cog margin-iconic"></span>Setting</a>
                                </li>
                            </ul>
                        </div>


                    </div>
                </div>
            </div>
            <!--/ TITLE -->

            <!-- BREADCRUMB -->
            <ul id="breadcrumb">
                <li>
                    <span class="entypo-home"></span>
                </li>
                <li><i class="fa fa-lg fa-angle-right"></i>
                </li>
                <li><a href="#" title="Sample page 1">Home</a>
                </li>
                <li><i class="fa fa-lg fa-angle-right"></i>
                </li>
                <li><a href="#" title="Sample page 1">Dashboard</a>
                </li>
                <li class="pull-right">
                    <div class="input-group input-widget">

                        <input style="border-radius:15px" type="text" placeholder="Search..." class="form-control">
                    </div>
                </li>
            </ul>

            <!-- END OF BREADCRUMB -->
            <div class="content-wrap">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="nest" id="horizontalClose">
                            <div class="title-alt">
                                <h6>管理员帐号</h6>
                                <div class="titleToggle">

                                   <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">添加管理员</button>
                                </div>
                            </div>

                            <div class="body-nest" id="horizontal" style="display: block;">
                                <% 
                                    if(data.length<=0){
                                %>
                                权限不够
                                <%        
                                    }else{
                                %>

                                <table class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>登录ID</th>
                                        <th>笔名</th>
                                        <th>真实姓名</th>
                                        <th>级别</th>
                                        <th>登录时间</th>
                                    </tr>
                                </thead>
                                <tbody>

                                <%
                                        for(var i=0;i<data.length;i++){
                                %>
                                
                                <tr>
                                        <td><%= data[i].loginname %></td>
                                        <td><%= data[i].name %></td>
                                        <td><%= data[i].pseudonym %></td>
                                        <td><%= data[i].level %></td>
                                        <td><%= dateformat(data[i].logintime) %></td>
                                </tr>
                                <%
                                        }
                                   
                                %>
                                    </tbody>
                                </table>
                                <nav>
                                  <ul class="pagination">
                                    <li><a href="#">首页</a></li>
                                    <li><a href="#">1</a></li>
                                    <li><a href="#">2</a></li>
                                    <li><a href="#">3</a></li>
                                    <li><a href="#">4</a></li>
                                    <li><a href="#">5</a></li>
                                    <li><a href="#">尾页</a></li>
                                  </ul>
                                </nav>
                                <%
                                       
                                    }
                                %>

                            </div>

                        </div>
                    </div>
                </div>




            </div>

           
        </div>
    </div>
    <!--  END OF PAPER WRAP -->

    <!-- RIGHT SLIDER CONTENT -->
    <div class="sb-slidebar sb-right">
        <div class="right-wrapper">
            <div class="row">
                <h3>
                    <span><i class="entypo-gauge"></i>&nbsp;&nbsp;MAIN WIDGET</span>
                </h3>
                <div class="col-lg-12">

                    <div class="widget-knob">
                        <span class="chart" style="position:relative" data-percent="86">
                            <span class="percent"></span>
                        </span>
                    </div>
                    <div class="widget-def">
                        <b>Distance traveled</b>
                        <br>
                        <i>86% to the check point</i>
                    </div>

                    <div class="widget-knob">
                        <span class="speed-car" style="position:relative" data-percent="60">
                            <span class="percent2"></span>
                        </span>
                    </div>
                    <div class="widget-def">
                        <b>The average speed</b>
                        <br>
                        <i>30KM/h avarage speed</i>
                    </div>


                    <div class="widget-knob">
                        <span class="overall" style="position:relative" data-percent="25">
                            <span class="percent3"></span>
                        </span>
                    </div>
                    <div class="widget-def">
                        <b>Overall result</b>
                        <br>
                        <i>30KM/h avarage Result</i>
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-top:0;" class="right-wrapper">
            <div class="row">
                <h3>
                    <span><i class="entypo-chat"></i>&nbsp;&nbsp;CHAT</span>
                </h3>
                <div class="col-lg-12">
                    <span class="label label-warning label-chat">Online</span>
                    <ul class="chat">
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-circle" src="http://api.randomuser.me/portraits/thumb/men/20.jpg">
                                </span><b>Dave Junior</b>
                                <br><i>Last seen : 08:00 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-circle" src="http://api.randomuser.me/portraits/thumb/men/21.jpg">
                                </span><b>Kenneth Lucas</b>
                                <br><i>Last seen : 07:21 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-circle" src="http://api.randomuser.me/portraits/thumb/men/22.jpg">
                                </span><b>Heidi Perez</b>
                                <br><i>Last seen : 05:43 PM</i>
                            </a>
                        </li>


                    </ul>

                    <span class="label label-chat">Offline</span>
                    <ul class="chat">
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-offline img-circle" src="http://api.randomuser.me/portraits/thumb/men/23.jpg">
                                </span><b>Dave Junior</b>
                                <br><i>Last seen : 08:00 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-offline img-circle" src="http://api.randomuser.me/portraits/thumb/women/24.jpg">
                                </span><b>Kenneth Lucas</b>
                                <br><i>Last seen : 07:21 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-offline img-circle" src="http://api.randomuser.me/portraits/thumb/men/25.jpg">
                                </span><b>Heidi Perez</b>
                                <br><i>Last seen : 05:43 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-offline img-circle" src="http://api.randomuser.me/portraits/thumb/women/25.jpg">
                                </span><b>Kenneth Lucas</b>
                                <br><i>Last seen : 07:21 PM</i>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span>
                                    <img alt="" class="img-chat img-offline img-circle" src="http://api.randomuser.me/portraits/thumb/men/26.jpg">
                                </span><b>Heidi Perez</b>
                                <br><i>Last seen : 05:43 PM</i>
                            </a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- END OF RIGHT SLIDER CONTENT-->

    <!-- Modal -->
    <div class="modal fade " id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display:none;">
      <div class="modal-dialog ">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="myModalLabel">添加管理员</h4>
          </div>
          <div class="modal-body">
                <div class="form_center">
                <form role="form" class="form-horizontal" id="add-user" novalidate="novalidate" enctype="multipart/form-data" action ="/adminAddUser" method="post">

                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">用户登录ID：</label>
                        <div class="col-lg-9">
                            <input id="loginID" name="loginID" class="form-control" value="" type="text">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">用户笔名：</label>
                        <div class="col-lg-9">
                            <input id="pseudonym" name="pseudonym" class="form-control" value="" type="text">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">用户密码：</label>
                        <div class="col-lg-9">
                            <input id="loginPWD" name="loginPWD" class="form-control" value="" type="password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">确认密码：</label>
                        <div class="col-lg-9">
                            <input id="loginCPWD" name="loginCPWD" class="form-control" value="" type="password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">真实姓名：</label>
                        <div class="col-lg-9">
                            <input id="name" name="name" class="form-control" value="" type="password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" for="basehost">电子邮箱：</label>
                        <div class="col-lg-9">
                            <input id="email" name="email" class="form-control" value="" type="password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-3 col-sm-3 control-label" >用户头像：</label>
                        <div class="col-lg-9">
                            <input id="userface" class="" type="file" >
                        </div>
                        
                    </div>
                        <input type="submit" />
                </form>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="btn-add">增加用户</button>
          </div>
        </div>
      </div>
    </div>




    <script src="view/admin/assets/js/progress-bar/src/jquery.velocity.min.js"></script>
    <script src="view/admin/assets/js/progress-bar/number-pb.js"></script>
    <script src="view/admin/assets/js/progress-bar/progress-app.js"></script>



    <!-- MAIN EFFECT -->
    <script type="text/javascript" src="view/admin/assets/js/preloader.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/app.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/load.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/main.js"></script>




    <!-- GAGE -->


    <script type="text/javascript" src="view/admin/assets/js/chart/jquery.flot.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/chart/jquery.flot.resize.js"></script>
   
    <script type="text/javascript" src="view/admin/assets/js/speed/canvasgauge-coustom.js"></script>
    <script type="text/javascript" src="view/admin/assets/js/countdown/jquery.countdown.js"></script>



    <script src="view/admin/assets/js/jhere-custom.js"></script>

    <script src="view/admin/js/bootstrap_file_input/fileinput.js"></script>
    <script src="view/admin/js/bootstrap_file_input/zh.js"></script>

    <script type="text/javascript">
    /* Javascript
     *
     * See http://jhere.net/docs.html for full documentation
     */
    $(window).on('load', function() {
        $('#mapContainer').jHERE({
            center: [52.500556, 13.398889],
            type: 'smart',
            zoom: 10
        }).jHERE('marker', [52.500556, 13.338889], {
            icon: 'view/admin/assets/img/marker.png',
            anchor: {
                x: 12,
                y: 32
            },
            click: function() {
                alert('Hallo from Berlin!');
            }
        })
            .jHERE('route', [52.711, 13.011], [52.514, 13.453], {
                color: '#FFA200',
                marker: {
                    fill: '#86c440',
                    text: '#'
                }
            });
    });
    </script>
    <script type="text/javascript">
    var output, started, duration, desired;

    // Constants
    duration = 5000;
    desired = '50';

    // Initial setup
    output = $('#speed');
    started = new Date().getTime();

    // Animate!
    animationTimer = setInterval(function() {
        // If the value is what we want, stop animating
        // or if the duration has been exceeded, stop animating
        if (output.text().trim() === desired || new Date().getTime() - started > duration) {
            console.log('animating');
            // Generate a random string to use for the next animation step
            output.text('' + Math.floor(Math.random() * 60)

            );

        } else {
            console.log('animating');
            // Generate a random string to use for the next animation step
            output.text('' + Math.floor(Math.random() * 120)

            );
        }
    }, 5000);
    </script>
    <script type="text/javascript">
    $('#getting-started').countdown('2015/01/01', function(event) {
        $(this).html(event.strftime(

            '<span>%M</span>' + '<span class="start-min">:</span>' + '<span class="start-min">%S</span>'));
    });

    $(function(){

        $('#btn-add').click(function(){
            $('#add-user').submit();
        })
        
        //  $('#add-user').validate({
        //     rules : {
        //         loginID : { 
        //             required : true, 
        //             rangelength : [5,20]
        //         },
        //         pseudonym : { 
        //             required : true, 
        //             rangelength : [2,10]
        //         },
        //         loginPWD : { 
        //             required : true, 
        //             rangelength : [5,20]
        //         },
        //         loginCPWD : { 
        //             required : true, 
        //             rangelength : [5,20],
        //             equalTo : '#loginPWD'
        //         },
        //         email : { 
        //             email : true
        //         }
        //     },
        //     messages : {
        //         loginID : {
        //             required : '登录ID不得为空！',
        //             rangelength :  $.validator.format('登录ID限制在{0}-{1}位！')
        //         },
        //         pseudonym : { 
        //             required : '用户笔名不得为空！', 
        //             rangelength : $.validator.format('用户笔名限制在{0}-{1}位！')
        //         },
        //         loginPWD : { 
        //             required : '密码不得为空！', 
        //             rangelength : $.validator.format('密码限制在{0}-{1}位！')
        //         },
        //         loginCPWD : { 
        //             required : '确认密码不得为空！', 
        //             rangelength : $.validator.format('登录ID限制在{0}-{1}位！'),
        //             equalTo : '确认密码与用户密码不同!',
        //         }
        //     },
        //     //使用方法加载 class 并添加文本
        //     success : function (label) {
                
        //     },
        //     //高亮显示有错误的元素，变色式
        //     highlight: function(element, errorClass) {
                 
        //     },
        //     //成功的元素移出错误高亮
        //     unhighlight : function (element, errorClass) {
        //        $(element).parent().find('.error').remove(); 
        //     },
        //     submitHandler : function (form) {

        //         var loginID = $('#loginID').val();
        //         var pseudonym = $('#pseudonym').val();
        //         var loginPWD = $('#loginPWD').val();
        //         var name = $('#name').val();
        //         var email = $('#email').val();
        //         var userface = $("#userface").val();
        //         var date = new Date().getTime(); 
        //         console.log(userface)
        //         $.ajax({
        //             url: '/adminAddUser',
        //             type: 'post',
        //             data: {
        //                 'loginID' : loginID,
        //                 'pseudonym' : pseudonym,
        //                 'loginPWD' : loginPWD,
        //                 'name' : name,
        //                 'email' : email,
        //                 'userface' : userface,
        //                 'date' : date
        //             },
        //         })
        //         .done(function(data) {
        //             // $('#savecfg-mes .modal-body').html(data.data);
        //             //     $('#savecfg-mes').modal({
        //             //         keyboard : true
        //             //     });
        //             //     setTimeout(function(){
        //             //     $('#savecfg-mes').modal('hide')
        //             //     },1000);
        //             })

        //     }
        // });

        // $("#userface").fileinput({
        //     language: 'zh',
        //     allowedFileExtensions : ['jpg', 'png','gif'],
        //     showUpload: false, //是否显示上传按钮
        //     showCaption: false,//是否显示标题
        // });

    })

    </script>


</body>

</html>
