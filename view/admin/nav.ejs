<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>后台管理系统 1.3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->

    <link rel="stylesheet" href="view/admin/assets/css/style.css">
    <link rel="stylesheet" href="view/admin/assets/css/loader-style.css">
    <link rel="stylesheet" href="view/admin/assets/css/bootstrap.css">

    <link rel="stylesheet" type="text/css" href="view/admin/assets/js/progress-bar/number-pb.css">
    

    <style type="text/css">
    canvas#canvas4 {
        position: relative;
        top: 20px;
    }
    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="view/admin/assets/ico/minus.png">
</head>

<body> 
    <!-- Preloader -->
    <div id="preloader">
        <div id="status">&nbsp;</div>
    </div>
    <!-- TOP NAVBAR -->
    <% include common/header %>

    <!-- /END OF TOP NAVBAR -->
    
    <!-- SIDE MENU -->
    <% include common/left %>
    <!-- END OF SIDE MENU -->


    <!--  PAPER WRAP -->
    <div class="wrap-fluid">
        <div class="container-fluid paper-wrap bevel tlbr">

            <!-- CONTENT -->
            <!--TITLE -->
            <% include common/nav %>
            <!--/ TITLE -->

            <!-- BREADCRUMB -->
            <% include common/breadcrumb %>
            <!-- END OF BREADCRUMB -->

            <div class="content-wrap">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="nest" id="horizontalClose">

                            <div class="title-alt">
                                <h6><%= title %></h6>
                            </div>

                            <div class="body-nest" id="horizontal">
                                <form role="form" class="form-horizontal" id="saveNav" novalidate="novalidate" action="/adminSaveNav" method="get"> 
                                    <input type="hidden" value="<%= data[0].id %>" name="updateId" />
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" for="navSys">系统内容：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <select name="navSys" id="navSys" class="form-control" value="">
                                                <option value="">-</option>
                                                <%- dataHtml %>
                                            </select>
                                        </div>
                                    </div>
                                   
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" for="navName">名称：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <input id="navName" name="navName" class="form-control" value="<%= data[0].navname %>" type="text">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" for="navLink">链接地址：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <input id="navLink" name="navLink" class="form-control" value="<%= data[0].navlink %>" type="text">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" for="navSort">排序：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <input id="navSort" name="navSort" class="form-control" value="<%= data[0].navsort %>" type="text">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" >是否显示：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <%
                                            if(data[0].navshow){
                                            %>
                                            <input type="radio" name="navShow" value="1" checked="checked" />是
                                            <input type="radio" name="navShow" value="0" />否
                                            <%
                                                }else{
                                            %>
                                            <input type="radio" name="navShow" value="1" />是
                                            <input type="radio" name="navShow" value="0" checked="checked" />否
                                            <%
                                                }
                                            %>
                                            
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" >是否新窗口：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <%
                                            if(data[0].navwindow){
                                            %>
                                            <input type="radio" name="navWindow" value="1" checked="checked" />是
                                            <input type="radio" name="navWindow" value="0" />否
                                            <%
                                                }else{
                                            %>
                                            <input type="radio" name="navWindow" value="1" />是
                                            <input type="radio" name="navWindow" value="0" checked="checked" />否
                                            <%
                                                }
                                            %>

                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="col-lg-2 col-sm-4 control-label" for="navPos">位置：</label>
                                        <div class="col-lg-10 col-sm-8">
                                            <select name="navPos" id="navPos" class="form-control" value="">
                                                <option value="0">顶部</option>
                                                <option value="1">中间</option>
                                                <option value="2">底部</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <div class="col-lg-offset-2 col-lg-10 col-sm-offset-4 col-sm-8">
                                            <input value="保存" class="btn btn-info" type="submit">
                                            <a href="javascript:history.go(-1)" class="btn btn-info">返回</a>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

           
        </div>
    </div>
    <!--  END OF PAPER WRAP -->

   <!-- RIGHT SLIDER CONTENT -->
    <% include common/slidebar %>
    <!-- END OF RIGHT SLIDER CONTENT-->

    <!-- cononjs -->
    <% include common/commonjs %>
    <!-- END OF cononjs-->
    
<script>
    $(function(){
        
        $('#navPos').val('<%= data[0].navpos %>');
        $('#navSys').val('<%= data[0].navcolid %>');

        $('#navSys').change(function(event) {
            var $selectedOpt = $(this).find('option:selected');
            $('#navName').val($selectedOpt.html());
            $('#navLink').val($selectedOpt.data('link'));
        });
       
       $('#navName,#navLink').keyup(function(event) {
            $('#navSys option').get(0).selected = true;
       }); 

       $('#saveNav').validate({
            rules : {
                navName : { 
                    required : true
                },
                navLink : { 
                    required : true
                }
                
            },
            messages : {
                navName : {
                    required : '名称不得为空！'
                },
                navLink : { 
                    required : '链接地址不得为空！', 
                    rangelength : $.validator.format('用户笔名限制在{0}-{1}位！')
                }
               
            },
            //使用方法加载 class 并添加文本
            success : function (label) {
                
            },
            //高亮显示有错误的元素，变色式
            highlight: function(element, errorClass) {
                 
            },
            //成功的元素移出错误高亮
            unhighlight : function (element, errorClass) {
               $(element).parent().find('.error').remove(); 
            },
            submitHandler : function (form) {
                form.submit();
            }
        });

    })
</script>




</body>

</html>
