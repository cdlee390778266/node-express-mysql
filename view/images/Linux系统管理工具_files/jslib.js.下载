function ChangePassword()
{
	var ret = gotoURL("changepass.php", "_self" );
}

function gotoURL(url)
{
	window.open( url, "_self");
}

function LogOut()
{
	gotoURL("index.php");
}

function PostBack(command, parameter)
{
	/* firefox ²»Ö§³Ö document.allµÄÐ´·¨
	*/
	/*document.all["_command_"].value = command;
          document.all["_parameter_"].value = parameter;
        //document.form1.submit();*/
	//document.getElementById("_command_").value = command;
	//alert(document.getElementById("_command_").value);
	//document.getElemntById("_parameter_").value = parameter;
	//alter(document.getElemntById("_parameter_").value);
	//document.forms[0].submit();
	//alert(command);
	
	$("#_command_").val(command);

//	alert($("#_command_").val());
	$("#_parameter_").val(parameter);
//	alert($("#_parameter_").val());
	document.forms[0].submit();
	//$("#form1").submit();
	/*
	$("#_parameter_").value=parameter;
	alert($("#_parameter_").value);
	$("#form1").submit();
	alert($("#form1"));
	alert("bbbbbbbbbbb");	
	*/
	
	/*document.getElemntsByName("_command_").value = command;
	document.getElemntsByName("_parameter_").value = parameter;
	document.getElemntsByName("form1").submit();*/
}

function SetStyleClass( objectID, className )
{
	var t = document.getElementById( objectID ) ;
	if ( t == null ) return ;
	t.className = className ;
}

function PopMenu( objectID )
{
	var i ;
	
	for ( i = 0 ; i < 10 ; i++ ) {
		var t = document.getElementById( "pop_" + i ) ;
		if ( t != null ) t.style.visibility = "hidden" ;
	}
	
	var t = document.getElementById( "pop_" + objectID ) ;
	if ( t == null ) return ;
	t.style.visibility = "visible" ;
}

function ClosePopMenu()
{
	var i ;
	for ( i = 1 ; i < 7 ; i++ ) {
		var t = document.getElementById( "popmnuMain" + i ) ;
		if ( t != null ) t.style.visibility = "hidden" ;
	}
}

function DIVDisplay(id,mode)
{
    document.all[id].style.display = mode;
}

function sAlert(titleStr,str,msgw,msgh){
    var msgw,msgh,bordercolor;
  titleheight=25 
    bordercolor="#336699";
    titlecolor="#99CCFF";
   
    var sWidth,sHeight;
    sWidth=document.body.offsetWidth;
    sHeight=screen.height;

    var bgObj=document.createElement("div");
    bgObj.setAttribute('id','bgDiv');
    bgObj.style.position="absolute";
    bgObj.style.top="0";
    bgObj.style.background="#777";
    bgObj.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=3,opacity=25,finishOpacity=75";
    bgObj.style.opacity="0.6";
    bgObj.style.left="0";
    bgObj.style.width=sWidth + "px";
    bgObj.style.height=sHeight + "px";
    bgObj.style.zIndex = "10000";
    document.body.appendChild(bgObj);
   
    var msgObj=document.createElement("div")
    msgObj.setAttribute("id","msgDiv");
    msgObj.setAttribute("align","center");
    msgObj.style.background="white";
    msgObj.style.border="1px solid " + bordercolor;
    msgObj.style.position = "absolute";
    msgObj.style.left = "50%";
    msgObj.style.top = "50%";
    msgObj.style.font="12px/1.6em Verdana, Geneva, Arial, Helvetica, sans-serif";
    msgObj.style.marginLeft = "-225px" ;
    msgObj.style.marginTop = -75+document.documentElement.scrollTop+"px";
    msgObj.style.width = msgw + "px";
    msgObj.style.height =msgh + "px";
    msgObj.style.textAlign = "center";
    msgObj.style.lineHeight ="25px";
    msgObj.style.zIndex = "10001";

   var title=document.createElement("h4");
   title.setAttribute("id","msgTitle");
   title.setAttribute("align","left");
   title.style.margin="0";
   title.style.padding="3px";
   title.style.background=bordercolor;
   title.style.filter="progid:DXImageTransform.Microsoft.Alpha(startX=20, startY=20, finishX=100, finishY=100,style=1,opacity=75,finishOpacity=100);";
   title.style.opacity="0.75";
   title.style.border="1px solid " + bordercolor;
   title.style.height="18px";
   title.style.font="12px Verdana, Geneva, Arial, Helvetica, sans-serif";
   title.style.color="white";
   title.style.cursor="pointer";
   title.innerHTML='<span  style="float:left">'+titleStr+'</span><span  style="float:right">关闭</span>';
   title.onclick=function(){
        document.body.removeChild(bgObj);
        document.getElementById("msgDiv").removeChild(title);
        document.body.removeChild(msgObj);
        }
   document.body.appendChild(msgObj);
   document.getElementById("msgDiv").appendChild(title);
   var txt=document.createElement("p");
   txt.style.margin="1em 0"
   txt.setAttribute("id","msgTxt");
   txt.innerHTML=str;
   document.getElementById("msgDiv").appendChild(txt);
}
//DHCP服务
function StartDHCP()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service dhcpd start", true ) ;
	xmlhttp.send() ;

}
function StopDHCP()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service dhcpd stop", true ) ;
	xmlhttp.send() ;

}
function RestartDHCP()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service dhcpd restart", true ) ;
	xmlhttp.send() ;
	
}
//nfs服务

function StartNFS()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service nfs start", true ) ;
	xmlhttp.send() ;

}
function StopNFS()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service nfs stop", true ) ;
	xmlhttp.send() ;

}
function RestartNFS()
{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "restartdhcp.php?ajaxtick=" + Math.random() + "&cmd=sudo /sbin/service nfs restart", true ) ;
	xmlhttp.send() ;
	
}
//无盘站
function StopNO()
{
	if (confirm('是否关机？'))
	{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				//html_msgbox_text('', strRl,400,200)
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "inc/sznodiskmanager.php?ajaxtick=" + Math.random() + "&cmd=SHUTDOWN_ALL", true ) ;
	xmlhttp.send() ;
	}

}
function RestartNO()
{
	if (confirm('是否重启？'))
	{
	var xmlhttp ;
	try
	{
		xmlhttp = new XMLHttpRequest() ;
	}
	catch(e)
	{
		xmlhttp = new ActiveXObject("Microsoft.XMLHTTP") ;
	}
	xmlhttp.onreadystatechange=function(){
		if( 4==xmlhttp.readyState){
			if( 200 == xmlhttp.status)
			{
				var strRl = xmlhttp.responseText ;
				alert(strRl);
			}//if
		}//function
	}//xmlhttp.onreadystatechange
	xmlhttp.open("get" , "inc/sznodiskmanager.php?ajaxtick=" + Math.random() + "&cmd=REBOOT_ALL", true ) ;
	xmlhttp.send() ;
	}
	
}

function html_msgbox_text(title, framehtml,w,h)
{
//margin-left:document.documentElement.scrollTop
m_L=(document.documentElement.clientWidth-w)/2;
    var markObj = $("<div></div>")
		.addClass('pop_markdiv');
	$("<iframe style='width:100%; height: 100%;' src='popupbg.htm'></iframe>")
		.appendTo(markObj);
    document.body.appendChild(markObj[0]);

    var bgObj = $("<div onmousewheel='return false;' ></div>")
		.addClass('pop_bgdiv');
    document.body.appendChild(bgObj[0]);

    var msgObj = $("<div style='width:"+w+"px;height:"+h+"px;margin-left:"+m_L+"px' class='pop_msgboxdiv' onmousewheel='return false;'  ></div>")
    document.body.appendChild(msgObj[0]);

	var table = $("<table ></table>")
		.addClass('pop_table')
		.attr("cellSpacing","0")
		.appendTo(msgObj);

	$("<tr class='pop_titlebar'></tr>")
		.append(
			$("<td class='pop_title'></td>")
			.text(title)
		)
		.append(
			$("<td class='pop_close'>×</td>")
			.click(function() {
				markObj.remove();
				bgObj.remove();
				msgObj.remove();
				markObj = null;
				bgObj = null;
				msgObj = null;
			})
		)
		.appendTo(table)

	$("<tr valign=top></tr>")
		.append(
			$("<td id='popup_text' colspan=2></td>")
			.append(
				$("<div class='pop_contentdiv' style='background-color: white;'>" + framehtml + "</div>")
			)
		)
		.appendTo(table)

/*	msgObj.click(function() {
			markObj.remove();
			bgObj.remove();
			msgObj.remove();
			markObj = null;
			bgObj = null;
			msgObj = null;
		//document.URL=location.href 
		})
	bgObj.click(function() {
			markObj.remove();
			bgObj.remove();
			msgObj.remove();
			markObj = null;
			bgObj = null;
			msgObj = null;
			//document.URL=location.href ;
		})*/
	
//	$('#popup_text').click(function() { return false; });
}